<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>progressr: An Introduction</title>
<style>
body {
  font-family: sans-serif;
  line-height: 1.6;
  padding-left: 3ex;
  padding-right: 3ex;
  background-color: white;
  color: black;
}

a {
  color: #4183C4;
  text-decoration: none;
}

h1, h2, h3 {
  margin: 2ex 0 1ex;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative;
}

h2 {
  border-bottom: 1px solid #cccccc;
}

code {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px;
}

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  line-height: 2.5x;
  overflow: auto;
  padding: 0.6ex 1ex;
  border-radius: 3px;
}

pre code {
  background-color: transparent;
  border: none;
}
</style>
</head>
<body>
<h1>progressr: An Introduction</h1>
<!--
%\VignetteIndexEntry{progressr: An Introduction}
%\VignetteAuthor{Henrik Bengtsson}
%\VignetteKeyword{R}
%\VignetteKeyword{package}
%\VignetteKeyword{vignette}
%\VignetteKeyword{Rprofile}
%\VignetteKeyword{Renviron}
%\VignetteEngine{progressr::selfonly}
-->
<!-- DO NOT EDIT THIS FILE! Edit 'OVERVIEW.md' instead and then rebuild this file with 'make vignettes' -->
<p>The <strong><a href="https://progressr.futureverse.org">progressr</a></strong> package provides a minimal API for reporting
progress updates in <a href="https://www.r-project.org/">R</a>.  The design is to
separate the representation of progress updates from how they are
presented.  What type of progress to signal is controlled by the
developer.  How these progress updates are rendered is controlled by
the end user.  For instance, some users may prefer visual feedback
such as a horizontal progress bar in the terminal, whereas others may
prefer auditory feedback.  The <strong><a href="https://progressr.futureverse.org">progressr</a></strong> framework is designed
to work out-of-the-box also with parallel and distributed processing,
especially with the <strong><a href="https://www.futureverse.org">futureverse</a></strong> ecosystem.</p>
<img src="data:image/gif;base64,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" alt="Three strokes writing three in Chinese" style="float: right; margin-right: 1ex; margin-left: 1ex;"/>
<p>Design motto:</p>
<blockquote>
<p>The developer is responsible for providing progress updates but it's
only the end user who decides if, when, and how progress should be
presented. No exceptions will be allowed.</p>
</blockquote>
<h2>Two Minimal APIs - One For Developers and One For End-Users</h2>
<div style="overflow: hidden">
<div style="float: left">
<table style="border: 1px solid #999; box-shadow: 2px 2px 2px #999;">
<tr><th>Developer's API</th></tr>
<tr style="vertical-align: top">
<td>
<p>
1. Set up a progressor with a certain number of steps:
</p>
<pre>
p &lt;- progressor(nsteps)
p &lt;- progressor(along = x)
</pre>
<p>
2. Signal progress:
</p>
<pre>
p()               # one-step progress
p(amount = 0)     # "still alive"
p("loading ...")  # pass on a message
</pre>
</td>
</tr>
</table>
</div>
<div style="float: left">&nbsp;&nbsp;&nbsp;&nbsp;</div>
<div style="float: left">
<table style="border: 1px solid #999; box-shadow: 2px 2px 2px #999;">
<tr><th>End-user's API</th></tr>
<tr style="vertical-align: top">
<td>
<p>
1a. Subscribe to progress updates from everywhere:
</p>
<pre>
handlers(global = TRUE)

y &lt;- slow_sum(1:5)
y &lt;- slow_sum(6:10)
</pre>
<p>
1b. Subscribe to a specific expression:
</p>
<pre>
with_progress({
  y &lt;- slow_sum(1:5)
  y &lt;- slow_sum(6:10)
})
</pre>
<p>
2. Configure how progress is presented:
</p>
<pre>
handlers("progress")
handlers("txtprogressbar", "beepr")
handlers(handler_pbcol(enable_after = 3.0))
handlers(handler_progress(complete = "#"))
</pre>
</td>
</table>
</div>
</div>
<h2>A simple example</h2>
<p>Assume that we have a function <code>slow_sum()</code> for adding up the values
in a vector.  It is so slow, that we like to provide progress updates
to whoever might be interested in it.  With the <strong>progressr</strong> package,
this can be done as:</p>
<pre><code class="language-r">slow_sum &lt;- function(x) {
  p &lt;- progressr::progressor(along = x)
  sum &lt;- 0
  for (kk in seq_along(x)) {
    Sys.sleep(0.1)
    sum &lt;- sum + x[kk]
    p(message = sprintf(&quot;Adding %g&quot;, x[kk]))
  }
  sum
}
</code></pre>
<p>Note how there are <em>no</em> arguments (e.g. <code>.progress = TRUE</code>) in the
code that specify how progress is presented. This is by design and
because the only task for the developer is to decide on where in the
code it makes sense to signal that progress has been made. As we will
see next, it should be up to the end user, and end user only, of this
code to decide whether they want to receive progress updates or not,
and, if so, in what format. Asking them to specify a special
&quot;progress&quot; argument adds a lot of friction, it clutters up the code,
and, importantly, might not even be possible for end users to do
(e.g. they call a package function that in turn calls the progress
reporting function of interest).</p>
<p>Now, if we call this function, without further settings:</p>
<pre><code class="language-r">&gt; y &lt;- slow_sum(1:10)
&gt; y
[1] 55
&gt;
</code></pre>
<p>the default is that there will be <em>no</em> progress updates. To get
progress updates, we need to request them to be &quot;handled&quot;, which we do
by:</p>
<pre><code class="language-r">&gt; progressr::handlers(global = TRUE)
</code></pre>
<p>After this, progress will be reported;</p>
<pre><code class="language-r">&gt; y &lt;- slow_sum(1:10)
  |====================                               |  40%
&gt; y &lt;- slow_sum(10:1)
  |========================================           |  80%
</code></pre>
<p>To disable reporting again, do:</p>
<pre><code class="language-r">&gt; handlers(global = FALSE)
</code></pre>
<h2>Customizing how progress is reported</h2>
<p>By default, <strong><a href="https://progressr.futureverse.org">progressr</a></strong> presents progress via the built-in
<code>utils::txtProgressBar()</code>. It presents itself as a rudimentary
ASCII-based horizontal progress bar in the R terminal. See
<code>help(&quot;handler_txtprogressbar&quot;)</code> for how to customize the look of
&quot;txtprogressbar&quot;, e.g. colorization and Unicode.  There are many other
ways to report on progress, including visually, auditory, and via
notification systems. You can also use a mix of these, e.g.</p>
<pre><code class="language-r">handlers(c(&quot;cli&quot;, &quot;beepr&quot;, &quot;ntfy&quot;))
</code></pre>
<p>See the 'Customizing How Progress is Reported' vignette for for examples.</p>
<h2>Additional Features</h2>
<h3>Support for progressr elsewhere</h3>
<p>Note that progression updates by <strong>progressr</strong> is designed to work out
of the box for any iterator framework in R. See the different package
vignettes for details. Prominent examples are:</p>
<ul>
<li><code>lapply()</code> etc. of base R</li>
<li><code>map()</code> etc. by the <strong><a href="https://cran.r-project.org/package=purrr">purrr</a></strong> package</li>
<li><code>llply()</code> etc. by the <strong><a href="https://cran.r-project.org/package=plyr">plyr</a></strong> package</li>
<li><code>foreach()</code> iterations by the <strong><a href="https://cran.r-project.org/package=foreach">foreach</a></strong> package</li>
</ul>
<p>and near-live progress reporting in parallel and distributed
processing via the <strong><a href="https://future.futureverse.org">future</a></strong> framework:</p>
<ul>
<li><code>future_lapply()</code> etc.  by the <strong><a href="https://future.apply.futureverse.org">future.apply</a></strong> package</li>
<li><code>future_map()</code> etc. by the <strong><a href="https://furrr.futureverse.org">furrr</a></strong> package</li>
<li><code>llply()</code> etc. by the <strong><a href="https://cran.r-project.org/package=plyr">plyr</a></strong> and <strong><a href="https://doFuture.futureverse.org">doFuture</a></strong> packages</li>
<li><code>foreach()</code> iterations via the <strong>foreach</strong> and <strong><a href="https://doFuture.futureverse.org">doFuture</a></strong> packages</li>
<li><code>bplapply()</code> etc. by the <strong><a href="https://www.bioconductor.org/packages/BiocParallel/">BiocParallel</a></strong> and <strong><a href="https://doFuture.futureverse.org">doFuture</a></strong> packages</li>
</ul>
<p>Other uses of <strong>progressr</strong> are:</p>
<ul>
<li>make packages that report progress via the <strong><a href="https://cran.r-project.org/package=cli">cli</a></strong> package
(e.g. <strong>purrr</strong>) report progress via <strong>progressr</strong></li>
<li>make <code>knit()</code> of the <strong><a href="https://cran.r-project.org/package=knitr">knitr</a></strong> package report via <strong>progressr</strong></li>
</ul>
<h3>Use regular output as usual alongside progress updates</h3>
<p>In contrast to other progress-bar frameworks, output from <code>message()</code>,
<code>cat()</code>, <code>print()</code> and so on, will <em>not</em> interfere with progress
reported via <strong>progressr</strong>.  For example, say we have:</p>
<pre><code class="language-r">slow_sqrt &lt;- function(xs) {
  p &lt;- progressor(along = xs)
  lapply(xs, function(x) {
    message(&quot;Calculating the square root of &quot;, x)
    Sys.sleep(2)
    p(sprintf(&quot;x=%g&quot;, x))
    sqrt(x)
  })
}
</code></pre>
<p>we will get:</p>
<pre><code class="language-r">&gt; library(progressr)
&gt; handlers(global = TRUE)
&gt; handlers(&quot;progress&quot;)
&gt; y &lt;- slow_sqrt(1:8)
Calculating the square root of 1
Calculating the square root of 2
- [===========&gt;-----------------------------------]  25% x=2
</code></pre>
<p>This works because <strong>progressr</strong> will briefly buffer any output
internally and only release it when the next progress update is
received just before the progress is re-rendered in the terminal.
This is why you see a two second delay when running the above example.
Note that, if we use progress handlers that do not output to the
terminal, such as <code>handlers(&quot;beepr&quot;)</code>, then output does not have to be
buffered and will appear immediately.</p>
<p><em>Comment</em>: When signaling a warning using <code>warning(msg, immediate. = TRUE)</code> the message is immediately outputted to the standard-error
stream.  However, this is not possible to emulate when warnings are
intercepted using calling handlers.  This is a limitation of R that
cannot be worked around.  Because of this, the above call will behave
the same as <code>warning(msg)</code> - that is, all warnings will be buffered by
R internally and released only when all computations are done.</p>
<h3>Sticky messages</h3>
<p>As seen above, some progress handlers present the progress message as
part of its output, e.g. the &quot;progress&quot; handler will display the
message as part of the progress bar.  It is also possible to &quot;push&quot;
the message up together with other terminal output.  This can be done
by adding class attribute <code>&quot;sticky&quot;</code> to the progression signaled.
This works for several progress handlers that output to the terminal.
For example, with:</p>
<pre><code class="language-r">slow_sum &lt;- function(x) {
  p &lt;- progressr::progressor(along = x)
  sum &lt;- 0
  for (kk in seq_along(x)) {
    Sys.sleep(0.1)
    sum &lt;- sum + x[kk]
    p(sprintf(&quot;Step %d&quot;, kk), class = if (kk %% 5 == 0) &quot;sticky&quot;, amount = 0)
    p(message = sprintf(&quot;Adding %g&quot;, x[kk]))
  }
  sum
}
</code></pre>
<p>we get</p>
<pre><code class="language-r">&gt; handlers(&quot;txtprogressbar&quot;)
&gt; y &lt;- slow_sum(1:30)
Step 5
Step 10
  |====================                               |  43%
</code></pre>
<p>and</p>
<pre><code class="language-r">&gt; handlers(&quot;progress&quot;)
&gt; y &lt;- slow_sum(1:30)
Step 5
Step 10
/ [===============&gt;-------------------------]  43% Adding 13
</code></pre>
</body>
</html>
